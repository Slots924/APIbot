"""Утиліта нормалізації тексту коментарів."""


def normalize_text(text: str) -> str:
    """Перетворює текст у компактну нижню форму для префіксного порівняння."""

    # Крок за кроком: спочатку очищаємо рядок від зайвих пробілів по краях,
    # далі замінюємо множинні пробіли всередині на один, і вже після цього
    # перетворюємо результат на нижній регістр. Так легше робити пошук за префіксом.

    # Прибираємо зайві пробіли та переводимо текст у нижній регістр,
    # щоб подальше порівняння відбувалося без чутливості до регістру.
    return " ".join((text or "").strip().split()).lower()
